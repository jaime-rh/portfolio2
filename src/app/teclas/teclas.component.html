<div class="arribaComponente">
  <h3>{{ textos.tituloComponente }}</h3>
  <div class="buttons">
    <!-- Botón de copiar solo si se está mostrando el código -->
    <button *ngIf="showCode" (click)="copyCode()" class="copy-btn">
        <i class="far fa-copy"></i>
    </button>

    <!-- Botón de mostrar código / ocultar -->
    <button (click)="onCodeClick()" class="code-btn">
        <i class="fas" [ngClass]="showCode ? 'fa-eye' : 'fa-code'"></i>
    </button>
  </div>
</div>

<div class="keyboard-container">
  <!-- Mostrar teclado solo si showCode es false -->
  <div *ngIf="!showCode">
    <div class="row" *ngFor="let row of keys">
      <ng-container *ngFor="let key of row">
        <button *ngIf="key"
                class="key"
                [class.pressed]="pressed[key]"
                (mousedown)="togglePress(key, true)"
                (mouseup)="togglePress(key, false)"
                (mouseleave)="togglePress(key, false)"
                (touchstart)="togglePress(key, true); $event.preventDefault()"
                (touchend)="togglePress(key, false)">
          <span class="bisel"></span>
          <span class="letter">{{ key }}</span>
        </button>
        <div *ngIf="!key" class="spacer"></div>
      </ng-container>
    </div>
  </div>

  <!-- Mostrar código resaltado solo si showCode es true -->
  <div *ngIf="showCode" class="code-container">
    <pre class="code-block">
      <code class="language-ts" [innerHTML]="highlightedCode"></code>
    </pre>
  </div>

  <!-- Toast de copiado -->
  <div *ngIf="copied" class="copy-toast">{{ textos.copiado }}</div>
</div>
